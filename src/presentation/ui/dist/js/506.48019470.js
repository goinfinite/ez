"use strict";(globalThis["webpackChunkcontrol"]=globalThis["webpackChunkcontrol"]||[]).push([[506],{7239:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Xe});var l=t(9835),o=t(499),s=t(6970),u=t(1957),n=t(6397),c=t(5338),i=t(6303);const r={class:"q-pa-lg"},d={class:"q-pa-lg"},p={class:"q-pa-lg"},m={class:"q-pa-lg"},g=(0,l.aZ)({__name:"AccountsQuotasForm",props:{cpuQuota:{},memoryQuota:{},storageQuota:{},inodesQuota:{}},emits:["update:cpuQuota","update:memoryQuota","update:storageQuota","update:inodesQuota"],setup(e,{emit:a}){const t=e,u=a,g=(0,n.n)(),w=(0,o.iH)(t.cpuQuota),v=(0,o.iH)(t.memoryQuota),y=(0,o.iH)(t.storageQuota),f=(0,o.iH)(t.inodesQuota),b=(0,l.Fl)((()=>g.getSystemInfo)),U=(0,l.Fl)((()=>{const e={freeBytes:0,totalInodes:0};return b.value.resourceUsage.storageInfo.forEach((a=>{"xfs"===a.fileSystem&&(e.freeBytes=a.freeBytes,e.totalInodes=a.totalInodes)})),e})),D=(0,l.Fl)((()=>({cpuCores:b.value.specs.cpuCoresCount,memoryBytes:b.value.specs.memoryTotalBytes,diskBytes:U.value.freeBytes,inodes:U.value.totalInodes})));function Q(e){const a=new c.Z;return a.bytesToGB(e).toFixed(2)}function h(e){const a=new i.Z;return parseFloat(a.formattedNumber(e).toFixed(2))}function _(e){const a=new i.Z;return a.suffixNumber(e)}return(0,l.YP)((()=>t.cpuQuota),(e=>{w.value=e})),(0,l.YP)((()=>t.memoryQuota),(e=>{v.value=e})),(0,l.YP)((()=>t.storageQuota),(e=>{y.value=e})),(0,l.YP)((()=>t.inodesQuota),(e=>{f.value=e})),(0,l.YP)(w,(e=>{u("update:cpuQuota",e)})),(0,l.YP)(v,(e=>{u("update:memoryQuota",e)})),(0,l.YP)(y,(e=>{u("update:storageQuota",e)})),(0,l.YP)(f,(e=>{u("update:inodesQuota",e)})),(e,a)=>{const t=(0,l.up)("q-slider");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l._)("div",null,(0,s.zw)(e.$t("accountsUpdateQuotaDialog.labelCpuQuota")),1),(0,l.Wm)(t,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value=e),disable:0===D.value.cpuCores,min:0,step:.5,max:D.value.cpuCores,label:"","label-value":w.value+"cores","switch-label-side":"","label-always":"",markers:""},null,8,["modelValue","disable","max","label-value"])]),(0,l._)("div",d,[(0,l._)("div",null,(0,s.zw)(e.$t("accountsUpdateQuotaDialog.labelMemoryQuota")),1),(0,l.Wm)(t,{modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),disable:0===D.value.memoryBytes,min:0,max:D.value.memoryBytes,label:"","label-value":`${Q(v.value)} GB`,"switch-label-side":"","label-always":"",markers:""},null,8,["modelValue","disable","max","label-value"])]),(0,l._)("div",p,[(0,l._)("div",null,(0,s.zw)(e.$t("accountsUpdateQuotaDialog.labelStorageQuota")),1),(0,l.Wm)(t,{modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e),disable:0===D.value.diskBytes,min:0,max:D.value.diskBytes,label:"","label-value":`${Q(y.value)} GB`,"switch-label-side":"","label-always":"",markers:""},null,8,["modelValue","disable","max","label-value"])]),(0,l._)("div",m,[(0,l._)("div",null,(0,s.zw)(e.$t("accountsUpdateQuotaDialog.labelInodesQuota")),1),(0,l.Wm)(t,{modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=e=>f.value=e),disable:0===D.value.inodes,min:0,max:D.value.inodes,label:"","label-value":`${h(f.value)} ${_(f.value)}`,"switch-label-side":"","label-always":"",markers:""},null,8,["modelValue","disable","max","label-value"])])],64)}}});var w=t(8423),v=t(9984),y=t.n(v);const f=g,b=f;y()(g,"components",{QSlider:w.Z});var U=t(4304),D=t(5786),Q=t(2626),h=t(7713),_=t(3064),Z=t(5971),x=t(8900),q=t(3055),A=t(6647);const W={class:"flex justify-between items-center q-my-xs"},k={class:"title-dialog q-mx-md"},C=(0,l.aZ)({__name:"AccountsCreateUserDialog",props:{showCreateUserDialog:{type:Boolean}},emits:["update:showCreateUserDialog"],setup(e,{emit:a}){const t=e,n=a,c=(0,A.QT)().t,i=(0,q.o)(),r=(0,o.iH)(t.showCreateUserDialog),d=(0,o.iH)(""),p=(0,o.iH)(""),m=(0,o.iH)(0),g=(0,o.iH)(0),w=(0,o.iH)(0),v=(0,o.iH)(0),y=(0,o.iH)(!1),f=(0,l.Fl)((()=>d.value.length>=6)),C=(0,l.Fl)({get:()=>i.getKeyAccountsTable,set:e=>{i.setKeyAccountsTable(e)}});function B(){r.value=!1}function F(){const e=new Z.Z;e.createAccount({username:d.value,password:p.value,quota:{cpuCores:m.value,memoryBytes:g.value,diskBytes:w.value,inodes:v.value}}).then((()=>{(0,x.LX)(c("accountsCreateUserDialog.createdSuccessfully")),C.value++,B()})).catch((e=>{(0,x.s9)(e.response.data,c("accountsCreateUserDialog.errorCreatingAccount"))}))}return(0,l.YP)((()=>t.showCreateUserDialog),(e=>{r.value=e})),(0,l.YP)(r,(e=>{n("update:showCreateUserDialog",e)})),(e,a)=>{const t=(0,l.up)("q-btn"),o=(0,l.up)("q-card-section"),n=(0,l.up)("q-card-actions"),c=(0,l.up)("q-card"),i=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(i,{modelValue:r.value,"onUpdate:modelValue":a[11]||(a[11]=e=>r.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l._)("div",W,[(0,l._)("div",k,(0,s.zw)(e.$t("accountsCreateUserDialog.title")),1),(0,l.Wm)(t,{flat:"",round:"",dense:"",icon:"close",onClick:a[0]||(a[0]=e=>B())})]),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U.Z,{label:e.$t("accountsCreateUserDialog.username"),icon:"person",value:d.value,"onUpdate:value":a[1]||(a[1]=e=>d.value=e),rules:[()=>""!==d.value||e.$t("accountsCreateUserDialog.usernameRequired"),()=>d.value.length>=6||e.$t("accountsCreateUserDialog.usernameMinLength")]},null,8,["label","value","rules"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q.Z,{password:p.value,"onUpdate:password":a[2]||(a[2]=e=>p.value=e)},null,8,["password"]),(0,l.Wm)(h.Z,{password:p.value,"onUpdate:password":a[3]||(a[3]=e=>p.value=e),class:"float-right"},null,8,["password"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(_.Z,{password:p.value,"onUpdate:isValidPassword":a[4]||(a[4]=e=>y.value=e)},null,8,["password"]),[[u.F8,p.value.length>0]])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{cpuQuota:m.value,"onUpdate:cpuQuota":a[5]||(a[5]=e=>m.value=e),memoryQuota:g.value,"onUpdate:memoryQuota":a[6]||(a[6]=e=>g.value=e),storageQuota:w.value,"onUpdate:storageQuota":a[7]||(a[7]=e=>w.value=e),inodesQuota:v.value,"onUpdate:inodesQuota":a[8]||(a[8]=e=>v.value=e)},null,8,["cpuQuota","memoryQuota","storageQuota","inodesQuota"])])),_:1}),(0,l.Wm)(n,{align:"between",class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.Z,{label:e.$t("accountsCreateUserDialog.cancelBtn"),class:"q-mr-sm q-px-xl",color:"grey-8",onClick:a[9]||(a[9]=e=>B())},null,8,["label"]),(0,l.Wm)(D.Z,{color:"primary",icon:"person_add",label:e.$t("accountsCreateUserDialog.createBtn"),disable:!f.value||!y.value,onClick:a[10]||(a[10]=e=>F())},null,8,["label","disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var B=t(2074),F=t(4458),S=t(8879),$=t(3190),T=t(1821);const P=C,K=P;y()(C,"components",{QDialog:B.Z,QCard:F.Z,QBtn:S.Z,QCardSection:$.Z,QCardActions:T.Z});const z={class:"flex justify-end items-center"},V={class:"td-action-bg-15"},H={class:"td-action-bg-20"},I={class:"td-action-bg-25"},j=(0,l.aZ)({__name:"AccountTableActions",props:{account:{}},setup(e){const a=e,t=(0,q.o)(),o=(0,l.Fl)({get:()=>t.getKeyUpdatePasswordDialog,set:e=>{t.setKeyUpdatePasswordDialog(e)}}),u=(0,l.Fl)({get:()=>t.getKeyUpdateApiKeyDialog,set:e=>{t.setKeyUpdateApiKeyDialog(e)}}),n=(0,l.Fl)({get:()=>t.getKeyUpdateQuotaDialog,set:e=>{t.setKeyUpdateQuotaDialog(e)}});function c(){o.value++,t.setAccountSelected(a.account),t.setShowUpdatePasswordDialog(!0)}function i(){t.setAccountSelected(a.account),t.setShowDeleteUserDialog(!0)}function r(){u.value++,t.setAccountSelected(a.account),t.setShowUpdateApiKeyDialog(!0)}function d(){n.value++,t.setAccountSelected(a.account),t.setShowUpdateQuotaDialog(!0)}return(e,a)=>{const t=(0,l.up)("q-tooltip"),o=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",z,[(0,l._)("div",V,[(0,l.Wm)(o,{size:"md",icon:"lock",flat:"",onClick:a[0]||(a[0]=e=>c())},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("accountsTableActions.editPasswordBtn")),1)])),_:1})])),_:1})]),(0,l._)("div",H,[(0,l.Wm)(o,{size:"md",icon:"key",flat:"",onClick:a[1]||(a[1]=e=>r())},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("accountsTableActions.editApiKeyBtn")),1)])),_:1})])),_:1})]),(0,l._)("div",I,[(0,l.Wm)(o,{size:"md",icon:"settings",flat:"",onClick:a[2]||(a[2]=e=>d())},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("accountsTableActions.editQuotaBtn")),1)])),_:1})])),_:1})]),(0,l._)("div",null,[(0,l.Wm)(o,{color:"negative",icon:"delete",size:"md",onClick:a[3]||(a[3]=e=>i())},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{class:"bg-negative text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("accountsTableActions.deleteBtn")),1)])),_:1})])),_:1})])])}}});var L=t(6858);const Y=j,G=Y;y()(j,"components",{QBtn:S.Z,QTooltip:L.Z});var N=t(8428);const X=(0,l._)("th",{class:"text-center"},"CPU",-1),M=(0,l._)("th",{class:"text-center"},"Memory",-1),E=(0,l._)("th",{class:"text-center"},"Disk",-1),R=(0,l._)("th",{class:"text-center"},"Inodes",-1),J=(0,l._)("th",{class:"text-center"},"UserId / GroupId",-1),O={style:{width:"150px"}},ee={style:{width:"150px"}},ae={style:{width:"150px"}},te={style:{width:"150px"}},le={class:"text-center"},oe={class:"row justify-center q-mt-md"},se=(0,l.aZ)({__name:"AccountsTable",props:{accountsList:{}},setup(e){const a=e,t=(0,o.iH)(!1),u=(0,o.iH)(0),n=(0,o.iH)(""),r=(0,o.iH)([{name:"username",label:"Username",align:"left",field:"username",classes:"td-main-table",headerClasses:"bg-primary text-white",sortable:!0}]),d=(0,o.iH)({sortBy:"desc",descending:!1,page:1,rowsPerPage:10}),p=(0,l.Fl)((()=>Math.ceil(a.accountsList.length/d.value.rowsPerPage)));function m(e){const a=new c.Z;return a.bytesToGB(e).toFixed(2)}function g(e){const a=new i.Z;return parseFloat(a.formattedNumber(e).toFixed(2))}function w(e){const a=new i.Z;return a.suffixNumber(e)}function v(){u.value++,t.value=!0}return(e,a)=>{const o=(0,l.up)("q-icon"),c=(0,l.up)("q-input"),i=(0,l.up)("q-space"),y=(0,l.up)("q-th"),f=(0,l.up)("q-tr"),b=(0,l.up)("q-td"),U=(0,l.up)("q-table"),Q=(0,l.up)("q-pagination");return(0,l.wg)(),(0,l.iD)(l.HY,null,[e.accountsList.length>0?((0,l.wg)(),(0,l.j4)(K,{showCreateUserDialog:t.value,"onUpdate:showCreateUserDialog":a[0]||(a[0]=e=>t.value=e),key:u.value},null,8,["showCreateUserDialog"])):(0,l.kq)("",!0),(0,l.Wm)(U,{rows:e.accountsList,columns:r.value,filter:n.value,pagination:d.value,"onUpdate:pagination":a[3]||(a[3]=e=>d.value=e),"no-data-label":e.$t("accountsTable.noDataLabel"),"row-key":"key",color:"primary",flat:"",bordered:"","hide-pagination":""},{top:(0,l.w5)((()=>[(0,l.Wm)(c,{borderless:"",debounce:"300",color:"primary",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),label:e.$t("accountsTable.searchInput")},{prepend:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"search"})])),_:1},8,["modelValue","label"]),(0,l.Wm)(i),(0,l.Wm)(D.Z,{label:e.$t("accountsTable.createAccountBtn"),color:"primary",icon:"person_add",onClick:a[2]||(a[2]=e=>v())},null,8,["label"])])),header:(0,l.w5)((e=>[(0,l.Wm)(f,{props:e},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,(a=>((0,l.wg)(),(0,l.j4)(y,{key:a.name,props:e,style:{"font-weight":"bold","font-size":"14px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.label),1)])),_:2},1032,["props"])))),128)),X,M,E,R,J,(0,l.Wm)(y)])),_:2},1032,["props"])])),body:(0,l.w5)((e=>[(0,l.Wm)(f,{props:e},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,(a=>((0,l.wg)(),(0,l.j4)(b,{key:a.name,props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.value),1)])),_:2},1032,["props"])))),128)),(0,l._)("td",O,[(0,l.Wm)(N.Z,{total:e.row.quota.cpuCores,progress:e.row.quotaUsage.cpuCores,suffix:1===e.row.quota.cpuCores?"Core":"Cores"},null,8,["total","progress","suffix"])]),(0,l._)("td",ee,[(0,l.Wm)(N.Z,{total:parseFloat(m(e.row.quota.memoryBytes)),progress:parseFloat(m(e.row.quotaUsage.memoryBytes)),suffix:"GB"},null,8,["total","progress"])]),(0,l._)("td",ae,[(0,l.Wm)(N.Z,{total:parseFloat(m(e.row.quota.diskBytes)),progress:parseFloat(m(e.row.quotaUsage.diskBytes)),suffix:"GB"},null,8,["total","progress"])]),(0,l._)("td",te,[(0,l.Wm)(N.Z,{total:g(e.row.quota.inodes),progress:g(e.row.quotaUsage.inodes),suffix:1===e.row.quota.inodes?`${w(e.row.quota.inodes)} Inode`:`${w(e.row.quota.inodes)} Inodes`},null,8,["total","progress","suffix"])]),(0,l._)("td",le,(0,s.zw)(e.row.id)+" / "+(0,s.zw)(e.row.groupId),1),(0,l.Wm)(b,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{account:e.row},null,8,["account"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter","pagination","no-data-label"]),(0,l._)("div",oe,[(0,l.Wm)(Q,{modelValue:d.value.page,"onUpdate:modelValue":a[4]||(a[4]=e=>d.value.page=e),color:"primary",max:p.value,size:"md"},null,8,["modelValue","max"])])],64)}}});var ue=t(422),ne=t(6611),ce=t(2857),ie=t(136),re=t(1233),de=t(1682),pe=t(7220),me=t(996);const ge=se,we=ge;y()(se,"components",{QTable:ue.Z,QInput:ne.Z,QIcon:ce.Z,QSpace:ie.Z,QTr:re.Z,QTh:de.Z,QTd:pe.Z,QPagination:me.Z});var ve=t(5273);const ye={class:"flex justify-between items-center q-my-xs"},fe={class:"title-dialog q-mx-md"},be=(0,l.aZ)({__name:"AccountsUpdatePasswordDialog",setup(e){const a=(0,A.QT)().t,t=(0,q.o)(),n=(0,l.Fl)({get:()=>t.getShowUpdatePasswordDialog,set:e=>{t.setShowUpdatePasswordDialog(e)}}),c=(0,l.Fl)((()=>t.getAccountSelected.id)),i=(0,l.Fl)((()=>t.getAccountSelected.username)),r=(0,o.iH)(""),d=(0,o.iH)(!1),p=(0,l.Fl)({get:()=>t.keyAccountsTable,set:e=>{t.keyAccountsTable=e}});function m(){n.value=!1}function g(){(0,ve.Q)();const e=new Z.Z;e.updateAccount({accountId:c.value,password:r.value}).then((()=>{(0,x.LX)(a("accountsUpdatePasswordDialog.updatedSuccessfully")),p.value++,m()})).catch((e=>{(0,x.s9)(e.response.data,a("accountsUpdatePasswordDialog.errorUpdatingAccount"))})).finally((()=>{(0,ve.Z)()}))}return(e,a)=>{const t=(0,l.up)("q-btn"),o=(0,l.up)("q-card-section"),c=(0,l.up)("q-card-actions"),p=(0,l.up)("q-card"),w=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(w,{modelValue:n.value,"onUpdate:modelValue":a[6]||(a[6]=e=>n.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l._)("div",ye,[(0,l._)("div",fe,(0,s.zw)(e.$t("accountsUpdatePasswordDialog.title",{username:i.value})),1),(0,l.Wm)(t,{flat:"",round:"",dense:"",icon:"close",onClick:a[0]||(a[0]=e=>m())})]),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q.Z,{password:r.value,"onUpdate:password":a[1]||(a[1]=e=>r.value=e),minLength:6},null,8,["password"]),(0,l.Wm)(h.Z,{password:r.value,"onUpdate:password":a[2]||(a[2]=e=>r.value=e),class:"float-right"},null,8,["password"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(_.Z,{minPasswordLength:6,password:r.value,"onUpdate:isValidPassword":a[3]||(a[3]=e=>d.value=e)},null,8,["password"]),[[u.F8,r.value.length>0]])])),_:1}),(0,l.Wm)(c,{align:"between"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.Z,{label:e.$t("accountsUpdatePasswordDialog.cancelBtn"),color:"grey-8",onClick:a[4]||(a[4]=e=>m())},null,8,["label"]),(0,l.Wm)(D.Z,{color:"primary",icon:"key",label:e.$t("accountsUpdatePasswordDialog.updateBtn"),disable:!1===d.value,onClick:a[5]||(a[5]=e=>g())},null,8,["label","disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),Ue=be,De=Ue;y()(be,"components",{QDialog:B.Z,QCard:F.Z,QBtn:S.Z,QCardSection:$.Z,QCardActions:T.Z});const Qe={class:"flex justify-between items-center q-my-xs"},he={class:"title-dialog q-mx-md"},_e={key:0},Ze={class:"box-api-key q-mb-sm"},xe={class:"flex justify-between"},qe={class:"text-primary",style:{"font-size":"16px"}},Ae={style:{"font-size":"14px"}},We={key:1,style:{height:"50px"}},ke=(0,l.aZ)({__name:"AccountsUpdateApiKeyDialog",setup(e){const a=(0,A.QT)().t,t=(0,q.o)(),u=(0,o.iH)(""),n=(0,l.Fl)({get:()=>t.getShowUpdateApiKeyDialog,set:e=>{t.setShowUpdateApiKeyDialog(e)}}),c=(0,l.Fl)((()=>t.getAccountSelected.id)),i=(0,l.Fl)((()=>t.getAccountSelected.username));function r(e){navigator.clipboard.writeText(e),(0,x.c0)({msg:`${a("accountsUpdateApiKeyDialog.copiedToClipboard")}`,position:"bottom",type:"primary",html:!0})}function d(){n.value=!1}function p(){(0,ve.Q)();const e=new Z.Z;e.updateAccount({accountId:c.value,shouldUpdateApiKey:!0}).then((e=>{u.value=e.data.body,(0,x.LX)(a("accountsUpdateApiKeyDialog.updatedSuccessfullyWithApiKey"))})).catch((e=>{(0,x.s9)(e.response.data,a("accountsUpdateApiKeyDialog.errorUpdatingAccount"))})).finally((()=>{(0,ve.Z)()}))}return(e,a)=>{const t=(0,l.up)("q-btn"),o=(0,l.up)("q-icon"),c=(0,l.up)("q-card-section"),m=(0,l.up)("q-card-actions"),g=(0,l.up)("q-card"),w=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(w,{modelValue:n.value,"onUpdate:modelValue":a[4]||(a[4]=e=>n.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l._)("div",Qe,[(0,l._)("div",he,(0,s.zw)(e.$t("accountsUpdateApiKeyDialog.title",{username:i.value})),1),(0,l.Wm)(t,{flat:"",round:"",dense:"",icon:"close",onClick:a[0]||(a[0]=e=>d())})]),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[u.value?((0,l.wg)(),(0,l.iD)("div",_e,[(0,l._)("div",Ze,[(0,l._)("div",xe,[(0,l._)("p",qe,(0,s.zw)(e.$t("accountsUpdateApiKeyDialog.generatedApiKey")),1),(0,l.Wm)(o,{name:"content_copy",size:"20px",class:"cursor-pointer icon-copy-api-key",onClick:a[1]||(a[1]=e=>r(u.value))})]),(0,l.Uk)(" "+(0,s.zw)(u.value),1)]),(0,l._)("small",Ae,[(0,l.Wm)(o,{color:"amber",size:"sm",name:"warning"}),(0,l.Uk)(" "+(0,s.zw)(e.$t("accountsUpdateApiKeyDialog.saveNewApiKey")),1)])])):((0,l.wg)(),(0,l.iD)("div",We))])),_:1}),(0,l.Wm)(m,{align:"between"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.Z,{label:e.$t("accountsUpdateApiKeyDialog.closeDialogBtn"),color:"grey-8",onClick:a[2]||(a[2]=e=>d())},null,8,["label"]),(0,l.Wm)(D.Z,{icon:"key",label:e.$t("accountsUpdateApiKeyDialog.generateNewApiKeyBtn"),color:"primary",onClick:a[3]||(a[3]=e=>p())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),Ce=ke,Be=Ce;y()(ke,"components",{QDialog:B.Z,QCard:F.Z,QBtn:S.Z,QCardSection:$.Z,QIcon:ce.Z,QCardActions:T.Z});var Fe=t(9906),Se=t(9302);const $e=(0,l.aZ)({__name:"AccountsDeleteUserDialog",setup(e){const a=(0,Se.Z)(),t=(0,A.QT)().t,o=(0,q.o)(),s=(0,l.Fl)((()=>a.dark.isActive?"/icons/bomb_dark.svg":"/icons/bomb_light.svg")),u=(0,l.Fl)({get:()=>o.getShowDeleteUserDialog,set:e=>{o.setShowDeleteUserDialog(e)}}),n=(0,l.Fl)((()=>o.getAccountSelected.username)),c=(0,l.Fl)((()=>o.getAccountSelected.id)),i=(0,l.Fl)({get:()=>o.keyAccountsTable,set:e=>{o.keyAccountsTable=e}});function r(){u.value=!1}function d(){(0,ve.Q)();const e=new Z.Z;e.deleteAccount(c.value).then((()=>{(0,x.LX)(t("accountsDeleteUserDialog.deletedSuccessfully",{username:n.value})),i.value++,r()})).catch((e=>{(0,x.s9)(e.response.data,t("accountsDeleteUserDialog.errorDeletingAccount",{username:n.value}))})).finally((()=>{(0,ve.Z)()}))}return(e,a)=>((0,l.wg)(),(0,l.j4)(Fe.Z,{showDeleteDialog:u.value,"onUpdate:showDeleteDialog":a[2]||(a[2]=e=>u.value=e),titleDialog:e.$t("accountsDeleteUserDialog.title",{username:n.value}),imagePath:s.value,messageToDelete:e.$t("accountsDeleteUserDialog.messageDeleteAccount",{username:n.value}),warningToDelete:e.$t("accountsDeleteUserDialog.warningDeleteAccount")},{"card-actions":(0,l.w5)((()=>[(0,l.Wm)(D.Z,{label:e.$t("accountsDeleteUserDialog.cancelBtn"),color:"grey-8",onClick:a[0]||(a[0]=e=>r())},null,8,["label"]),(0,l.Wm)(D.Z,{color:"negative",label:e.$t("accountsDeleteUserDialog.deleteBtn"),onClick:a[1]||(a[1]=e=>d())},null,8,["label"])])),_:1},8,["showDeleteDialog","titleDialog","imagePath","messageToDelete","warningToDelete"]))}}),Te=$e,Pe=Te,Ke={class:"flex justify-between items-center q-my-xs"},ze={class:"title-dialog q-mx-md"},Ve=(0,l.aZ)({__name:"AccountsUpdateQuotaDialog",setup(e){const a=(0,A.QT)().t,t=(0,q.o)(),u=(0,o.iH)(0),n=(0,o.iH)(0),c=(0,o.iH)(0),i=(0,o.iH)(0),r=(0,l.Fl)((()=>t.getAccountSelected.id)),d=(0,l.Fl)((()=>t.getAccountSelected)),p=(0,l.Fl)({get:()=>t.getKeyAccountsTable,set:e=>{t.setKeyAccountsTable(e)}}),m=(0,l.Fl)({get:()=>t.getShowUpdateQuotaDialog,set:e=>{t.setShowUpdateQuotaDialog(e)}}),g=(0,l.Fl)((()=>t.getAccountSelected.username));function w(){m.value=!1}function v(){const e=new Z.Z;e.updateAccount({accountId:r.value,quota:{cpuCores:u.value,memoryBytes:n.value,diskBytes:c.value,inodes:i.value}}).then((()=>{(0,x.LX)(a("accountsUpdateQuotaDialog.updatedSuccessfully")),p.value++,w()})).catch((e=>{(0,x.s9)(e.response.data,a("accountsUpdateQuotaDialog.errorUpdatingQuota"))}))}return(0,l.YP)(m,(e=>{!1!==e&&(u.value=d.value.quota.cpuCores,n.value=d.value.quota.memoryBytes,c.value=d.value.quota.diskBytes,i.value=d.value.quota.inodes)}),{immediate:!0}),(e,a)=>{const t=(0,l.up)("q-btn"),o=(0,l.up)("q-card-section"),r=(0,l.up)("q-card-actions"),d=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(p,{modelValue:m.value,"onUpdate:modelValue":a[8]||(a[8]=e=>m.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l._)("div",Ke,[(0,l._)("div",ze,(0,s.zw)(e.$t("accountsUpdateQuotaDialog.title",{username:g.value})),1),(0,l.Wm)(t,{flat:"",round:"",dense:"",icon:"close",onClick:a[0]||(a[0]=e=>w())})]),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U.Z,{label:e.$t("accountsUpdateQuotaDialog.username"),disable:"",icon:"person",value:g.value,"onUpdate:value":a[1]||(a[1]=e=>g.value=e)},null,8,["label","value"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{cpuQuota:u.value,"onUpdate:cpuQuota":a[2]||(a[2]=e=>u.value=e),memoryQuota:n.value,"onUpdate:memoryQuota":a[3]||(a[3]=e=>n.value=e),storageQuota:c.value,"onUpdate:storageQuota":a[4]||(a[4]=e=>c.value=e),inodesQuota:i.value,"onUpdate:inodesQuota":a[5]||(a[5]=e=>i.value=e)},null,8,["cpuQuota","memoryQuota","storageQuota","inodesQuota"])])),_:1}),(0,l.Wm)(r,{align:"between",class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.Z,{label:e.$t("accountsUpdateQuotaDialog.cancelBtn"),class:"q-mr-sm q-px-xl",color:"grey-8",onClick:a[6]||(a[6]=e=>w())},null,8,["label"]),(0,l.Wm)(D.Z,{color:"primary",icon:"settings",label:e.$t("accountsUpdateQuotaDialog.updateBtn"),onClick:a[7]||(a[7]=e=>v())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),He=Ve,Ie=He;y()(Ve,"components",{QDialog:B.Z,QCard:F.Z,QBtn:S.Z,QCardSection:$.Z,QCardActions:T.Z});var je=t(7178);const Le=(0,l.aZ)({__name:"AccountsIndex",setup(e){const a=new Z.Z,t=(0,q.o)(),s=(0,n.n)(),u=(0,o.iH)([]),c=(0,o.iH)(!1),i=(0,o.iH)(!1),r=(0,l.Fl)((()=>!0===c.value||!0===i.value)),d=(0,l.Fl)((()=>t.getKeyAccountsTable)),p=(0,l.Fl)((()=>t.getKeyUpdatePasswordDialog)),m=(0,l.Fl)((()=>t.getKeyUpdateApiKeyDialog)),g=(0,l.Fl)((()=>t.getKeyUpdateQuotaDialog)),w=(0,l.Fl)({get:()=>s.getSystemInfo,set:e=>s.setSystemInfo(e)});function v(){i.value=!0;const e=new je.Z;e.getSystemInfo().then((e=>{w.value=e.data.body})).catch((e=>{console.error(e)})).finally((()=>{i.value=!1,y()}))}function y(){c.value=!0,a.getAccounts().then((e=>{u.value=e.data.body})).catch((e=>{console.error(e),(0,x.s9)(e.response.data,"accountsIndex.errorLoadingAccounts")})).finally((()=>{c.value=!1}))}return(0,l.wF)((()=>{v()})),(0,l.YP)(d,(()=>{y()})),(e,a)=>{const t=(0,l.up)("q-skeleton"),o=(0,l.up)("q-card-section"),s=(0,l.up)("q-card"),n=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(n,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(De,{key:p.value})),((0,l.wg)(),(0,l.j4)(Be,{key:m.value})),(0,l.Wm)(Pe),((0,l.wg)(),(0,l.j4)(Ie,{key:g.value})),(0,l.Wm)(s,{flat:"",class:"q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[!0===r.value?((0,l.wg)(),(0,l.j4)(t,{key:0,animation:"wave",style:{height:"100vh"}})):((0,l.wg)(),(0,l.j4)(we,{key:1,accountsList:u.value},null,8,["accountsList"]))])),_:1})])),_:1})])),_:1})}}});var Ye=t(9885),Ge=t(7133);const Ne=Le,Xe=Ne;y()(Le,"components",{QPage:Ye.Z,QCard:F.Z,QCardSection:$.Z,QSkeleton:Ge.ZP})}}]);